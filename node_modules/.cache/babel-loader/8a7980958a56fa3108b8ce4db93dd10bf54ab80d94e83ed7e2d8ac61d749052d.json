{"ast":null,"code":"var _jsxFileName = \"/Users/jasonpottorff/Documents/GitHub/the-days-until-app/src/App.js\";\nimport './App.css';\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport NavbarComponent from './components/appheader/navbar.js';\nimport InputField from './components/inputField/InputField.js';\nimport HoliData from './components/Holidata';\nimport DateCardComponent from './components/cardcomponent/date-card-component';\nimport { getHolidaysFromDB, addHolidayToDB, deleteHolidayFromDB, updateYearlyRepeatingHolidays } from './utils/indexedDB';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.toggle = id => {\n      return () => {\n        const HoliData = this.state.HoliData.map(holiday => {\n          if (holiday.id === id) {\n            holiday.isOpen = !holiday.isOpen;\n          }\n          return holiday;\n        });\n        this.setState({\n          HoliData\n        });\n      };\n    };\n    //reload the state of the cards\n    this.reloadCards = () => {\n      this.setState({\n        HoliData: [...HoliData]\n      });\n    };\n    // Add a new holiday to IndexedDB and state\n    this.addHoliday = async newHoliday => {\n      try {\n        // Add to IndexedDB\n        await addHolidayToDB(newHoliday);\n\n        // Update state\n        this.setState(prevState => ({\n          customHolidays: [...prevState.customHolidays, newHoliday]\n        }));\n        console.log('Holiday added successfully:', newHoliday);\n      } catch (error) {\n        console.error('Error adding holiday:', error);\n        alert('Failed to add holiday. Please try again.');\n      }\n    };\n    // Delete a custom holiday\n    this.deleteHoliday = async holidayId => {\n      try {\n        // Remove from IndexedDB\n        await deleteHolidayFromDB(holidayId);\n\n        // Update state\n        this.setState(prevState => ({\n          customHolidays: prevState.customHolidays.filter(holiday => holiday.id !== holidayId)\n        }));\n        console.log('Holiday deleted successfully:', holidayId);\n      } catch (error) {\n        console.error('Error deleting holiday:', error);\n        alert('Failed to delete holiday. Please try again.');\n      }\n    };\n    // Get all holidays (built-in + custom)\n    this.getAllHolidays = () => {\n      return [...this.state.HoliData, ...this.state.customHolidays];\n    };\n    this.state = {\n      HoliData: [...HoliData],\n      // Create a copy to avoid mutating the original\n      customHolidays: [],\n      // Store custom holidays from IndexedDB\n      isOpen: false,\n      loading: true\n    };\n  }\n\n  // Load custom holidays from IndexedDB when component mounts\n  async componentDidMount() {\n    try {\n      // Update yearly repeating holidays first\n      await updateYearlyRepeatingHolidays();\n\n      // Then load all holidays\n      const customHolidays = await getHolidaysFromDB();\n      this.setState({\n        customHolidays,\n        loading: false\n      });\n    } catch (error) {\n      console.error('Error loading custom holidays:', error);\n      this.setState({\n        loading: false\n      });\n    }\n  }\n  render() {\n    if (this.state.loading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            padding: '50px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Loading holidays...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this);\n    }\n    const allHolidays = this.getAllHolidays();\n    return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n      children: [/*#__PURE__*/_jsxDEV(NavbarComponent, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"App\",\n        children: [/*#__PURE__*/_jsxDEV(\"main\", {\n          className: \"app--screen\",\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            className: \"App-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"The Days Left Until...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"time-grid\",\n            children: allHolidays.map(holiday => {\n              const isCustomHoliday = this.state.customHolidays.some(ch => ch.id === holiday.id);\n              return /*#__PURE__*/_jsxDEV(DateCardComponent, {\n                onClick: this.toggle(holiday.id),\n                id: holiday.id,\n                date: holiday.date,\n                name: holiday.name,\n                description: holiday.description,\n                image: holiday.image,\n                isCustom: isCustomHoliday,\n                isYearlyRepeating: holiday.isYearlyRepeating,\n                onDelete: isCustomHoliday ? this.deleteHoliday : null\n              }, holiday.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(InputField, {\n          HoliData: this.state.HoliData,\n          isOpen: this.state.isOpen,\n          reloadCards: this.reloadCards,\n          addHoliday: this.addHoliday\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default MainPage;","map":{"version":3,"names":["React","BrowserRouter","NavbarComponent","InputField","HoliData","DateCardComponent","getHolidaysFromDB","addHolidayToDB","deleteHolidayFromDB","updateYearlyRepeatingHolidays","jsxDEV","_jsxDEV","MainPage","Component","constructor","props","toggle","id","state","map","holiday","isOpen","setState","reloadCards","addHoliday","newHoliday","prevState","customHolidays","console","log","error","alert","deleteHoliday","holidayId","filter","getAllHolidays","loading","componentDidMount","render","className","children","style","textAlign","padding","fileName","_jsxFileName","lineNumber","columnNumber","allHolidays","isCustomHoliday","some","ch","onClick","date","name","description","image","isCustom","isYearlyRepeating","onDelete"],"sources":["/Users/jasonpottorff/Documents/GitHub/the-days-until-app/src/App.js"],"sourcesContent":["import './App.css';\nimport React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport NavbarComponent from './components/appheader/navbar.js';\nimport InputField from './components/inputField/InputField.js';\nimport HoliData from './components/Holidata';\nimport DateCardComponent from './components/cardcomponent/date-card-component';\nimport { getHolidaysFromDB, addHolidayToDB, deleteHolidayFromDB, updateYearlyRepeatingHolidays } from './utils/indexedDB';\n\nclass MainPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      HoliData: [...HoliData], // Create a copy to avoid mutating the original\n      customHolidays: [], // Store custom holidays from IndexedDB\n      isOpen: false,\n      loading: true,\n    };\n  }\n\n  // Load custom holidays from IndexedDB when component mounts\n  async componentDidMount() {\n    try {\n      // Update yearly repeating holidays first\n      await updateYearlyRepeatingHolidays();\n\n      // Then load all holidays\n      const customHolidays = await getHolidaysFromDB();\n      this.setState({\n        customHolidays,\n        loading: false\n      });\n    } catch (error) {\n      console.error('Error loading custom holidays:', error);\n      this.setState({ loading: false });\n    }\n  }\n\n  toggle = (id) => {\n    return () => {\n      const HoliData = this.state.HoliData.map((holiday) => {\n        if (holiday.id === id) {\n          holiday.isOpen = !holiday.isOpen;\n        }\n        return holiday;\n      });\n      this.setState({ HoliData });\n    };\n  };\n\n  //reload the state of the cards\n  reloadCards = () => {\n    this.setState({ HoliData: [...HoliData] });\n  };\n\n  // Add a new holiday to IndexedDB and state\n  addHoliday = async (newHoliday) => {\n    try {\n      // Add to IndexedDB\n      await addHolidayToDB(newHoliday);\n\n      // Update state\n      this.setState(prevState => ({\n        customHolidays: [...prevState.customHolidays, newHoliday]\n      }));\n\n      console.log('Holiday added successfully:', newHoliday);\n    } catch (error) {\n      console.error('Error adding holiday:', error);\n      alert('Failed to add holiday. Please try again.');\n    }\n  };\n\n  // Delete a custom holiday\n  deleteHoliday = async (holidayId) => {\n    try {\n      // Remove from IndexedDB\n      await deleteHolidayFromDB(holidayId);\n\n      // Update state\n      this.setState(prevState => ({\n        customHolidays: prevState.customHolidays.filter(holiday => holiday.id !== holidayId)\n      }));\n\n      console.log('Holiday deleted successfully:', holidayId);\n    } catch (error) {\n      console.error('Error deleting holiday:', error);\n      alert('Failed to delete holiday. Please try again.');\n    }\n  };\n\n  // Get all holidays (built-in + custom)\n  getAllHolidays = () => {\n    return [...this.state.HoliData, ...this.state.customHolidays];\n  };\n\n  render() {\n    if (this.state.loading) {\n      return (\n        <div className='App'>\n          <div style={{ textAlign: 'center', padding: '50px' }}>\n            <h2>Loading holidays...</h2>\n          </div>\n        </div>\n      );\n    }\n\n    const allHolidays = this.getAllHolidays();\n\n    return (\n      <BrowserRouter>\n        <NavbarComponent></NavbarComponent>\n        <div className='App'>\n          <main className='app--screen'>\n            <header className='App-header'>\n              <h1>The Days Left Until...</h1>\n            </header>\n\n            <div className='time-grid'>\n              {allHolidays.map((holiday) => {\n                const isCustomHoliday = this.state.customHolidays.some(ch => ch.id === holiday.id);\n                return (\n                  <DateCardComponent\n                    onClick={this.toggle(holiday.id)}\n                    key={holiday.id}\n                    id={holiday.id}\n                    date={holiday.date}\n                    name={holiday.name}\n                    description={holiday.description}\n                    image={holiday.image}\n                    isCustom={isCustomHoliday}\n                    isYearlyRepeating={holiday.isYearlyRepeating}\n                    onDelete={isCustomHoliday ? this.deleteHoliday : null}\n                  />\n                );\n              })}\n            </div>\n          </main>\n          <InputField\n            HoliData={this.state.HoliData}\n            isOpen={this.state.isOpen}\n            reloadCards={this.reloadCards}\n            addHoliday={this.addHoliday}\n          ></InputField>\n        </div>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default MainPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}